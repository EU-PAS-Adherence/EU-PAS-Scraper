[tox]
envlist = 
    py{310,311}
    flake8

[testenv]
deps =
    scrapy
    pytest
    pytest-cov
commands =
    pytest

[testenv:flake8]
basepython = py311
deps =
    flake8
commands =
    flake8 encepp tests

[flake8]
exclude = .tox,.git,__pycache__,docs/source/conf.py,old,build,dist
application-import-names = encepp
extend-ignore = E501

[pytest]
testpaths = tests
pythonpath = .
addopts = 
    --cov=encepp
    --cov-report=term-missing
    --cov-report=xml:coverage/coverage.xml
    --cov-report=html:coverage/web
filterwarnings =
    error
    ignore::DeprecationWarning